# Philosophers
# This is School 42 project


<p> Данный проект представляет из себя несколько разновидностей <a href="https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%B4%D0%B0%D1%87%D0%B0_%D0%BE%D0%B1_%D0%BE%D0%B1%D0%B5%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D1%85_%D1%84%D0%B8%D0%BB%D0%BE%D1%81%D0%BE%D1%84%D0%B0%D1%85">задач об обедающих философах</a></p>

<br>

<p>Прежде чем приступить к проекту, я очень долго узнавал про многопоточность и многопроцессорность, а так же долго<a href="https://miro.com/welcomeonboard/Lada7SVVS1u3Onofei9QWrJGHg45emvih45kVwp2HiES6KEUPfFNqffdKJUiFkOl"> планировал</a> выполнение</p>

<br>

<p>Прежде чем я опишу задачу на русском, советую ознакомиться с subject.pdf</p>

<hr>

<p>Первая задача представляет собой обычный вариант задачи об обедающих философах, когда несколько философов сидят за круглым столом и кушают спагетти двумя вилками(Справа и слева)</p>

<br>

<p>Что бы лучше представить это <a href="https://miro.com/welcomeonboard/Lada7SVVS1u3Onofei9QWrJGHg45emvih45kVwp2HiES6KEUPfFNqffdKJUiFkOl">перейдите по ссылке с моим планом</a></p>

<br>

<p>Сложность всех задачь об обедающих философах заключается в том, что каждый философ возьмет по одной вилке, и тогда они все будут ждать второй, когда та будет находиться в руке у соседа. Такое состояние называется 
deadlock</p>

<br>

<p>Что бы философы правильно брали вилки и пользовались остальными общими ресурсами, не мешаю друг другу, в первой программе разрешено пользоваться <a href="https://ru.wikipedia.org/wiki/%D0%9C%D1%8C%D1%8E%D1%82%D0%B5%D0%BA%D1%81">мьютексами</a></p>
<p>Так же, что бы не было состояние deadlock, которое я описал выше, я поставил таймер на начало еды каждого второго философа. Таким образом, сначала кушают философы под нечетными номерами, а потом под четными</p>

<br>

<p>Со вторыми философами дела обстоят иначе. Принцип задачи меняется так, что все вилки лежат в центре стола и любой философ может взять вилку любого философа. Но deadlock не пропадает и, что бы решить его я 
применил одно из наиболее популярных решений - метод оффицианта. То есть, философы не сами берут 2 вилки из центра стола, а просят оффицианда дать им вилки.</p>
<p>Тут требуется использовать <a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D0%BC%D0%B0%D1%84%D0%BE%D1%80_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)">семафоры</a>, которые, в отличие от мьютексов, имею количество</p>
<br>

<p>В программе philo_three усложнение задачи philo_two так, что философы - это отдельный дочерний процесс, в котором находится их поток... Данную задачу я решил похожим методом с первой, но не советую запускать ее с 200+ философами.</p>

<hr>

<p>Что бы запустить одну из симуляций, перейдите в папку симуляции(cd philo_one)</p>
<br>
<p>Введите в консоли make, что бы Makefile собрал проект.</p>
<br>
<p>Зпустите программу с параметрами (1. Количество философов. 2. Время жизни каждого философа. 3. Время, которое философ потратит на трапезу. 4. Время, которое философ должен спать. 5. Этот аргумент является опциональным, если он есть, то философ, который поел количество раз, указанное тут, встает и уходит из-за стола, тем самым освобождая вилки)(./philo_one 4 410 200 200(В данном случае 4 философа будут жить 410мс,
а кушать и спать по 200мс))</p>
<br>
<p>Таймер жизни обновляется, когда философ поел</p>
<br>
<hr>

<small> Данный проект - моя личная собственность и я запрещаю копировать код участникам Ecole 42  и School 21 </small>
